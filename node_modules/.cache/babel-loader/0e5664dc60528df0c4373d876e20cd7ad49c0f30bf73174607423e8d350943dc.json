{"ast":null,"code":"import\"./NavBar.css\";import{LogOut,Menu}from\"lucide-react\";import homebtn from\"../icons/home.png\";import{useState,useEffect}from\"react\";import{NavLink}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function NavBar(_ref){let{user,setUser}=_ref;const[username,setUserName]=useState(\"\");useEffect(()=>{if(user){setUserName(sessionStorage.getItem(\"userId\")||\"Guest\");}},[user]);function handleLogout(){setUser(null);setUserName(\"Guest\");sessionStorage.clear();console.log(\"User Logged Out\");}return/*#__PURE__*/_jsx(\"div\",{className:\"navbar-wrapper\",children:/*#__PURE__*/_jsxs(\"nav\",{className:\"navbar\",children:[/*#__PURE__*/_jsx(NavLink,{to:\"/\",className:\"home\",children:/*#__PURE__*/_jsx(\"img\",{className:\"homebtn\",src:homebtn,alt:\"Back to home page\"})}),/*#__PURE__*/_jsx(\"ul\",{className:\"nav-links\",children:/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsxs(\"span\",{className:\"mood-boosts-title\",children:[/*#__PURE__*/_jsx(Menu,{className:\"menu-icon\"}),\"Mood Boosts\"]}),/*#__PURE__*/_jsxs(\"ul\",{className:\"dropdown\",children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(NavLink,{to:\"/breathing\",className:\"navbar_boosts breathing\",children:\"Breathing Exercises\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(NavLink,{to:\"/quote\",className:\"navbar_boosts quote\",children:\"Inspirational Quotes\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(NavLink,{to:\"/joke\",className:\"navbar_boosts joke\",children:\"Joke Generator\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(NavLink,{to:\"/user\",className:\"navbar_boosts user\",children:\"User History\"})})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"auth-buttons\",children:/*#__PURE__*/_jsx(\"button\",{className:\"guest-user-btn\",onClick:handleLogout,children:\"\\uD83C\\uDFAD New Guest User\"})})]})});}export default NavBar;// Former code with Specific User Functionality Added\n// import \"./NavBar.css\";\n// import { LogOut, Menu } from \"lucide-react\";\n// import homebtn from \"../icons/home.png\";\n// import Modal from \"../Modal/Modal\";\n// import { useState, useEffect } from \"react\";\n// import { NavLink } from \"react-router-dom\";\n// function NavBar({ user, setUser }) {\n//   const [modalOpen, setModalOpen] = useState(false);\n//   const [username, setUserName] = useState(\"\");\n//   useEffect(() => {\n//     const pageContent = document.querySelector(\".page-content\");\n//     if (modalOpen) {\n//       pageContent.classList.add(\"blur\");\n//     } else {\n//       pageContent.classList.remove(\"blur\");\n//     }\n//   }, [modalOpen]);\n//   // ‚úÖ Automatically Assign a Guest User on Page Load\n//   useEffect(() => {\n//     const assignGuestUser = async () => {\n//       if (!sessionStorage.getItem(\"userId\")) {\n//         console.log(\"Assigning guest user...\");\n//         try {\n//           const response = await fetch(\"http://localhost:3000/api/v1/guest_user\");\n//           if (!response.ok) {\n//             console.error(\"Failed to fetch guest user. Status:\", response.status);\n//             throw new Error(\"Guest user creation failed\");\n//           }\n//           const data = await response.json();\n//           sessionStorage.setItem(\"userId\", data.guest_id);\n//           setUser(data.guest_id);\n//           setUserName(\"Guest\");\n//           console.log(\"‚úÖ Guest user assigned:\", data.guest_id);\n//         } catch (error) {\n//           console.error(\"‚ùå Error fetching guest user:\", error);\n//         }\n//       } else {\n//         setUser(sessionStorage.getItem(\"userId\"));\n//       }\n//     };\n//     assignGuestUser();\n//   }, [setUser]);\n//   function handleOpenModal() {\n//     setModalOpen(true);\n//   }\n//   function handleCloseModal() {\n//     setModalOpen(false);\n//   }\n//   function handleLogout() {\n//     setUser(null);\n//     setUserName(\"\");\n//     sessionStorage.clear();\n//     console.log(\"User Logged Out\");\n//   }\n//   function handleLoginSuccess(userId, userUserName) {\n//     setUser(userId);\n//     setUserName(userUserName);\n//     sessionStorage.setItem(\"userId\", userId);\n//   }\n//   return (\n//     <div className=\"navbar-wrapper\">\n//       <nav className=\"navbar\">\n//         <NavLink to=\"/\" className=\"home\">\n//           <img className=\"homebtn\" src={homebtn} alt=\"Back to home page\" />\n//         </NavLink>\n//         <ul className=\"nav-links\">\n//           <li>\n//             <span className=\"mood-boosts-title\">\n//               <Menu className=\"menu-icon\" />\n//               Mood Boosts\n//             </span>\n//             <ul className=\"dropdown\">\n//               <li>\n//                 <NavLink to=\"/breathing\" className=\"navbar_boosts breathing\">\n//                   Breathing Exercises\n//                 </NavLink>\n//               </li>\n//               <li>\n//                 <NavLink to=\"/quote\" className=\"navbar_boosts quote\">\n//                   Inspirational Quotes\n//                 </NavLink>\n//               </li>\n//               <li>\n//                 <NavLink to=\"/joke\" className=\"navbar_boosts joke\">\n//                   Joke Generator\n//                 </NavLink>\n//               </li>\n//               <li>\n//                 <NavLink to=\"/user\" className=\"navbar_boosts user\">\n//                   User History\n//                 </NavLink>\n//               </li>\n//             </ul>\n//           </li>\n//         </ul>\n//         {/* ‚úÖ Always show Login/Register button for account switch */}\n//         <div className=\"auth-buttons\">\n//           {user ? (\n//             <>\n//               <button className=\"logout\" onClick={handleLogout}>\n//                 <LogOut className=\"logout-icon\" /> üîÑ New Guest User\n//               </button>\n//               <button className=\"login\" onClick={handleOpenModal}>\n//                 üë§ Login/Register\n//               </button>\n//             </>\n//           ) : (\n//             <button className=\"login\" onClick={handleOpenModal}>\n//               üë§ Login/Register\n//             </button>\n//           )\n//           }\n//         </div>\n//       </nav>\n//       <Modal\n//         modalOpen={modalOpen}\n//         onClose={handleCloseModal}\n//         resetToSignIn={modalOpen}\n//         onLoginSuccess={handleLoginSuccess}\n//         user={user}\n//         setUser={setUser}\n//         setUserName={setUserName}\n//       />\n//     </div>\n//   );\n// }\n// export default NavBar;","map":{"version":3,"names":["LogOut","Menu","homebtn","useState","useEffect","NavLink","jsx","_jsx","jsxs","_jsxs","NavBar","_ref","user","setUser","username","setUserName","sessionStorage","getItem","handleLogout","clear","console","log","className","children","to","src","alt","onClick"],"sources":["/Users/terramanning/home/turing_work/3mod/mood-boost-forked/mood_boost_fe/mood_boost_fe/src/NavBar/NavBar.jsx"],"sourcesContent":["import \"./NavBar.css\";\nimport { LogOut, Menu } from \"lucide-react\";\nimport homebtn from \"../icons/home.png\";\nimport { useState, useEffect } from \"react\";\nimport { NavLink } from \"react-router-dom\";\n\nfunction NavBar({ user, setUser }) {\n  const [username, setUserName] = useState(\"\");\n\n  useEffect(() => {\n    if (user) {\n      setUserName(sessionStorage.getItem(\"userId\") || \"Guest\");\n    }\n  }, [user]);\n\n  function handleLogout() {\n    setUser(null);\n    setUserName(\"Guest\");\n    sessionStorage.clear();\n    console.log(\"User Logged Out\");\n  }\n\n  return (\n    <div className=\"navbar-wrapper\">\n      <nav className=\"navbar\">\n        <NavLink to=\"/\" className=\"home\">\n          <img className=\"homebtn\" src={homebtn} alt=\"Back to home page\" />\n        </NavLink>\n        <ul className=\"nav-links\">\n          <li>\n            <span className=\"mood-boosts-title\">\n              <Menu className=\"menu-icon\" />\n              Mood Boosts\n            </span>\n            <ul className=\"dropdown\">\n              <li>\n                <NavLink to=\"/breathing\" className=\"navbar_boosts breathing\">\n                  Breathing Exercises\n                </NavLink>\n              </li>\n              <li>\n                <NavLink to=\"/quote\" className=\"navbar_boosts quote\">\n                  Inspirational Quotes\n                </NavLink>\n              </li>\n              <li>\n                <NavLink to=\"/joke\" className=\"navbar_boosts joke\">\n                  Joke Generator\n                </NavLink>\n              </li>\n              <li>\n                <NavLink to=\"/user\" className=\"navbar_boosts user\">\n                  User History\n                </NavLink>\n              </li>\n            </ul>\n          </li>\n        </ul>\n        <div className=\"auth-buttons\">\n          <button className=\"guest-user-btn\" onClick={handleLogout}>\n            üé≠ New Guest User\n          </button>\n        </div>\n      </nav>\n    </div>\n  );\n}\n\nexport default NavBar;\n\n// Former code with Specific User Functionality Added\n\n// import \"./NavBar.css\";\n// import { LogOut, Menu } from \"lucide-react\";\n// import homebtn from \"../icons/home.png\";\n// import Modal from \"../Modal/Modal\";\n// import { useState, useEffect } from \"react\";\n// import { NavLink } from \"react-router-dom\";\n\n// function NavBar({ user, setUser }) {\n//   const [modalOpen, setModalOpen] = useState(false);\n//   const [username, setUserName] = useState(\"\");\n\n//   useEffect(() => {\n//     const pageContent = document.querySelector(\".page-content\");\n//     if (modalOpen) {\n//       pageContent.classList.add(\"blur\");\n//     } else {\n//       pageContent.classList.remove(\"blur\");\n//     }\n//   }, [modalOpen]);\n\n//   // ‚úÖ Automatically Assign a Guest User on Page Load\n//   useEffect(() => {\n//     const assignGuestUser = async () => {\n//       if (!sessionStorage.getItem(\"userId\")) {\n//         console.log(\"Assigning guest user...\");\n//         try {\n//           const response = await fetch(\"http://localhost:3000/api/v1/guest_user\");\n\n//           if (!response.ok) {\n//             console.error(\"Failed to fetch guest user. Status:\", response.status);\n//             throw new Error(\"Guest user creation failed\");\n//           }\n\n//           const data = await response.json();\n//           sessionStorage.setItem(\"userId\", data.guest_id);\n//           setUser(data.guest_id);\n//           setUserName(\"Guest\");\n//           console.log(\"‚úÖ Guest user assigned:\", data.guest_id);\n//         } catch (error) {\n//           console.error(\"‚ùå Error fetching guest user:\", error);\n//         }\n//       } else {\n//         setUser(sessionStorage.getItem(\"userId\"));\n//       }\n//     };\n\n//     assignGuestUser();\n//   }, [setUser]);\n\n//   function handleOpenModal() {\n//     setModalOpen(true);\n//   }\n\n//   function handleCloseModal() {\n//     setModalOpen(false);\n//   }\n\n//   function handleLogout() {\n//     setUser(null);\n//     setUserName(\"\");\n//     sessionStorage.clear();\n//     console.log(\"User Logged Out\");\n//   }\n\n//   function handleLoginSuccess(userId, userUserName) {\n//     setUser(userId);\n//     setUserName(userUserName);\n//     sessionStorage.setItem(\"userId\", userId);\n//   }\n\n//   return (\n//     <div className=\"navbar-wrapper\">\n//       <nav className=\"navbar\">\n//         <NavLink to=\"/\" className=\"home\">\n//           <img className=\"homebtn\" src={homebtn} alt=\"Back to home page\" />\n//         </NavLink>\n\n//         <ul className=\"nav-links\">\n//           <li>\n//             <span className=\"mood-boosts-title\">\n//               <Menu className=\"menu-icon\" />\n//               Mood Boosts\n//             </span>\n//             <ul className=\"dropdown\">\n//               <li>\n//                 <NavLink to=\"/breathing\" className=\"navbar_boosts breathing\">\n//                   Breathing Exercises\n//                 </NavLink>\n//               </li>\n//               <li>\n//                 <NavLink to=\"/quote\" className=\"navbar_boosts quote\">\n//                   Inspirational Quotes\n//                 </NavLink>\n//               </li>\n//               <li>\n//                 <NavLink to=\"/joke\" className=\"navbar_boosts joke\">\n//                   Joke Generator\n//                 </NavLink>\n//               </li>\n//               <li>\n//                 <NavLink to=\"/user\" className=\"navbar_boosts user\">\n//                   User History\n//                 </NavLink>\n//               </li>\n//             </ul>\n//           </li>\n//         </ul>\n\n//         {/* ‚úÖ Always show Login/Register button for account switch */}\n//         <div className=\"auth-buttons\">\n//           {user ? (\n//             <>\n//               <button className=\"logout\" onClick={handleLogout}>\n//                 <LogOut className=\"logout-icon\" /> üîÑ New Guest User\n//               </button>\n//               <button className=\"login\" onClick={handleOpenModal}>\n        \n//                 üë§ Login/Register\n//               </button>\n//             </>\n//           ) : (\n//             <button className=\"login\" onClick={handleOpenModal}>\n//               üë§ Login/Register\n//             </button>\n//           )\n//           }\n//         </div>\n//       </nav>\n\n//       <Modal\n//         modalOpen={modalOpen}\n//         onClose={handleCloseModal}\n//         resetToSignIn={modalOpen}\n//         onLoginSuccess={handleLoginSuccess}\n//         user={user}\n//         setUser={setUser}\n//         setUserName={setUserName}\n//       />\n//     </div>\n//   );\n// }\n\n// export default NavBar;\n\n"],"mappings":"AAAA,MAAO,cAAc,CACrB,OAASA,MAAM,CAAEC,IAAI,KAAQ,cAAc,CAC3C,MAAO,CAAAC,OAAO,KAAM,mBAAmB,CACvC,OAASC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC3C,OAASC,OAAO,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE3C,QAAS,CAAAC,MAAMA,CAAAC,IAAA,CAAoB,IAAnB,CAAEC,IAAI,CAAEC,OAAQ,CAAC,CAAAF,IAAA,CAC/B,KAAM,CAACG,QAAQ,CAAEC,WAAW,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CAE5CC,SAAS,CAAC,IAAM,CACd,GAAIQ,IAAI,CAAE,CACRG,WAAW,CAACC,cAAc,CAACC,OAAO,CAAC,QAAQ,CAAC,EAAI,OAAO,CAAC,CAC1D,CACF,CAAC,CAAE,CAACL,IAAI,CAAC,CAAC,CAEV,QAAS,CAAAM,YAAYA,CAAA,CAAG,CACtBL,OAAO,CAAC,IAAI,CAAC,CACbE,WAAW,CAAC,OAAO,CAAC,CACpBC,cAAc,CAACG,KAAK,CAAC,CAAC,CACtBC,OAAO,CAACC,GAAG,CAAC,iBAAiB,CAAC,CAChC,CAEA,mBACEd,IAAA,QAAKe,SAAS,CAAC,gBAAgB,CAAAC,QAAA,cAC7Bd,KAAA,QAAKa,SAAS,CAAC,QAAQ,CAAAC,QAAA,eACrBhB,IAAA,CAACF,OAAO,EAACmB,EAAE,CAAC,GAAG,CAACF,SAAS,CAAC,MAAM,CAAAC,QAAA,cAC9BhB,IAAA,QAAKe,SAAS,CAAC,SAAS,CAACG,GAAG,CAAEvB,OAAQ,CAACwB,GAAG,CAAC,mBAAmB,CAAE,CAAC,CAC1D,CAAC,cACVnB,IAAA,OAAIe,SAAS,CAAC,WAAW,CAAAC,QAAA,cACvBd,KAAA,OAAAc,QAAA,eACEd,KAAA,SAAMa,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eACjChB,IAAA,CAACN,IAAI,EAACqB,SAAS,CAAC,WAAW,CAAE,CAAC,cAEhC,EAAM,CAAC,cACPb,KAAA,OAAIa,SAAS,CAAC,UAAU,CAAAC,QAAA,eACtBhB,IAAA,OAAAgB,QAAA,cACEhB,IAAA,CAACF,OAAO,EAACmB,EAAE,CAAC,YAAY,CAACF,SAAS,CAAC,yBAAyB,CAAAC,QAAA,CAAC,qBAE7D,CAAS,CAAC,CACR,CAAC,cACLhB,IAAA,OAAAgB,QAAA,cACEhB,IAAA,CAACF,OAAO,EAACmB,EAAE,CAAC,QAAQ,CAACF,SAAS,CAAC,qBAAqB,CAAAC,QAAA,CAAC,sBAErD,CAAS,CAAC,CACR,CAAC,cACLhB,IAAA,OAAAgB,QAAA,cACEhB,IAAA,CAACF,OAAO,EAACmB,EAAE,CAAC,OAAO,CAACF,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAAC,gBAEnD,CAAS,CAAC,CACR,CAAC,cACLhB,IAAA,OAAAgB,QAAA,cACEhB,IAAA,CAACF,OAAO,EAACmB,EAAE,CAAC,OAAO,CAACF,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAAC,cAEnD,CAAS,CAAC,CACR,CAAC,EACH,CAAC,EACH,CAAC,CACH,CAAC,cACLhB,IAAA,QAAKe,SAAS,CAAC,cAAc,CAAAC,QAAA,cAC3BhB,IAAA,WAAQe,SAAS,CAAC,gBAAgB,CAACK,OAAO,CAAET,YAAa,CAAAK,QAAA,CAAC,6BAE1D,CAAQ,CAAC,CACN,CAAC,EACH,CAAC,CACH,CAAC,CAEV,CAEA,cAAe,CAAAb,MAAM,CAErB;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}