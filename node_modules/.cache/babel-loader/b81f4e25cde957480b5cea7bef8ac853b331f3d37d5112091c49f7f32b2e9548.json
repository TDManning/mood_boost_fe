{"ast":null,"code":"import'./App.css';import{Routes,Route}from'react-router-dom';import NavBar from'./NavBar/NavBar';import QuotePage from'./QuotePage/QuotePage';import JokePage from'./JokePage/JokePage';import BreathingPage from'./BreathingPage/BreathingPage';import HomePage from'./HomePage/HomePage';import UserProfile from'./UserProfile/UserProfile';import{useState,useEffect}from'react';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const API_BASE_URL=process.env.REACT_APP_API_URL;function App(){const[user,setUser]=useState(sessionStorage.getItem(\"userId\")||null);useEffect(()=>{const initializeGuestUser=async()=>{if(!user){try{console.log(\"Fetching guest user...\");const response=await fetch(`${API_BASE_URL}/guest_user`);if(!response.ok){console.error(\"Failed to fetch guest user. Status:\",response.status);throw new Error(\"Guest user creation failed\");}const data=await response.json();sessionStorage.setItem(\"userId\",data.guest_id);setUser(data.guest_id);console.log(\"✅ Guest user assigned:\",data.guest_id);}catch(error){console.error(\"❌ Error fetching guest user:\",error);}}};initializeGuestUser();},[user]);function logUserActivity(userId,activityName){if(!userId||!activityName){console.warn(\"⚠️ Missing userId or activityName for logging activity.\");return;}fetch(`${API_BASE_URL}/users/${userId}/activities`,{method:'POST',body:JSON.stringify({activity:{name:activityName,description:\"User performed an activity.\"}}),headers:{'Content-Type':'application/json'}}).then(async response=>{if(!response.ok){const errorData=await response.json();throw errorData;}return response.json();}).then(data=>{console.log(\"✅ Activity logged successfully:\",data);}).catch(error=>{console.error(\"❌ Error logging activity:\",error);});}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(NavBar,{user:user,setUser:setUser}),/*#__PURE__*/_jsx(\"div\",{className:\"page-content\",children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(HomePage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/quote\",element:/*#__PURE__*/_jsx(QuotePage,{user:user,logUserActivity:logUserActivity})}),/*#__PURE__*/_jsx(Route,{path:\"/joke\",element:/*#__PURE__*/_jsx(JokePage,{user:user,logUserActivity:logUserActivity})}),/*#__PURE__*/_jsx(Route,{path:\"/breathing\",element:/*#__PURE__*/_jsx(BreathingPage,{user:user,logUserActivity:logUserActivity})}),/*#__PURE__*/_jsx(Route,{path:\"/user\",element:/*#__PURE__*/_jsx(UserProfile,{user:user})})]})})]});}export default App;","map":{"version":3,"names":["Routes","Route","NavBar","QuotePage","JokePage","BreathingPage","HomePage","UserProfile","useState","useEffect","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","API_BASE_URL","process","env","REACT_APP_API_URL","App","user","setUser","sessionStorage","getItem","initializeGuestUser","console","log","response","fetch","ok","error","status","Error","data","json","setItem","guest_id","logUserActivity","userId","activityName","warn","method","body","JSON","stringify","activity","name","description","headers","then","errorData","catch","children","className","path","element"],"sources":["/Users/terramanning/home/turing_work/3mod/mood-boost-forked/mood_boost_fe/mood_boost_fe/src/App.jsx"],"sourcesContent":["import './App.css';\nimport { Routes, Route } from 'react-router-dom';\nimport NavBar from './NavBar/NavBar';\nimport QuotePage from './QuotePage/QuotePage';\nimport JokePage from './JokePage/JokePage';\nimport BreathingPage from './BreathingPage/BreathingPage';\nimport HomePage from './HomePage/HomePage';\nimport UserProfile from './UserProfile/UserProfile';\nimport { useState, useEffect } from 'react';\n\nconst API_BASE_URL = process.env.REACT_APP_API_URL;\n\nfunction App() {\n  const [user, setUser] = useState(sessionStorage.getItem(\"userId\") || null);\n\n  useEffect(() => {\n    const initializeGuestUser = async () => {\n      if (!user) {\n        try {\n          console.log(\"Fetching guest user...\");\n          const response = await fetch(`${API_BASE_URL}/guest_user`);\n\n          if (!response.ok) {\n            console.error(\"Failed to fetch guest user. Status:\", response.status);\n            throw new Error(\"Guest user creation failed\");\n          }\n\n          const data = await response.json();\n          sessionStorage.setItem(\"userId\", data.guest_id);\n          setUser(data.guest_id);\n          console.log(\"✅ Guest user assigned:\", data.guest_id);\n        } catch (error) {\n          console.error(\"❌ Error fetching guest user:\", error);\n        }\n      }\n    };\n\n    initializeGuestUser();\n  }, [user]);\n\n  function logUserActivity(userId, activityName) {\n    if (!userId || !activityName) {\n      console.warn(\"⚠️ Missing userId or activityName for logging activity.\");\n      return;\n    }\n\n    fetch(`${API_BASE_URL}/users/${userId}/activities`, {\n      method: 'POST',\n      body: JSON.stringify({\n        activity: {\n          name: activityName,\n          description: \"User performed an activity.\" \n        }\n      }),\n      headers: { 'Content-Type': 'application/json' }\n    })\n      .then(async (response) => {\n        if (!response.ok) {\n          const errorData = await response.json();\n          throw errorData;\n        }\n        return response.json();\n      })\n      .then((data) => {\n        console.log(\"✅ Activity logged successfully:\", data);\n      })\n      .catch((error) => {\n        console.error(\"❌ Error logging activity:\", error);\n      });\n  }\n\n  return (\n    <>\n      <NavBar user={user} setUser={setUser} />\n      <div className=\"page-content\">\n        <Routes>\n          <Route path=\"/\" element={<HomePage />} />\n          <Route path=\"/quote\" element={<QuotePage user={user} logUserActivity={logUserActivity} />} />\n          <Route path=\"/joke\" element={<JokePage user={user} logUserActivity={logUserActivity} />} />\n          <Route path=\"/breathing\" element={<BreathingPage user={user} logUserActivity={logUserActivity} />} />\n          <Route path=\"/user\" element={<UserProfile user={user} />} />\n        </Routes>\n      </div>\n    </>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}